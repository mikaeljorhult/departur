!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}([function(e,t){document.documentElement.classList.add("js")},,,,,,,function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(9);var a=n(10),o=n.n(a),i=document.getElementsByClassName("datepicker");if(i.length>0){var r=i[0],l=r.querySelectorAll('[name="start_date"]')[0],s=r.querySelectorAll('[name="end_date"]')[0],c=document.createElement("label");c.innerHTML=r.getAttribute("data-label"),r.insertAdjacentElement("afterbegin",c);var u=o()(l,{defaultDate:l.value||"today",locale:{firstDayOfWeek:1},onChange:function(e){if(d.set("minDate",e[0]),0===d.selectedDates.length){var t=f(e[0],3);d.setDate(t)}}}),d=o()(s,{defaultDate:s.value||f(u.selectedDates[0],3),locale:{firstDayOfWeek:1}})}function f(e,t){return e.setMonth(e.getMonth()+t)}n(11);var g=n(13),p=n.n(g),m=document.querySelectorAll(".sortable");if(m.length>0)for(var h=0;h<m.length;++h)p.a.create(m[h])},function(e,t){var n=document.getElementById("calendar-url"),a=void 0,o=void 0,i=void 0;function r(){n.classList.toggle("calendar-url__file",i.value.match("-file"))}n&&(a=n.querySelector('input[type="file"]'),o=n.querySelector(".file-name"),i=n.getElementsByTagName("select")[0],a.addEventListener("change",function(){o.innerHTML=this.files.length>0?this.files[0].name:this.getAttribute("placeholder")}),i.addEventListener("change",r),r())},function(e,t,n){var a;a=function(){"use strict";var e=function(e){return("0"+e).slice(-2)},t=function(e){return!0===e?1:0};function n(e,t,n){var a;return void 0===n&&(n=!1),function(){var o=this,i=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,n||e.apply(o,i)},t),n&&!a&&e.apply(o,i)}}var a=function(e){return e instanceof Array?e:[e]},o=function(){},i=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},r={D:o,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,n,a){e.setHours(e.getHours()%12+12*t(new RegExp(a.amPM[1],"i").test(n)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var n=parseInt(t);return new Date(e.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:o,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},w:o,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},l={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},s={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[s.w(e,t,n)]},F:function(e,t,n){return i(s.n(e,t,n)-1,!1,t)},G:function(t,n,a){return e(s.h(t,n,a))},H:function(t){return e(t.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,n){return n.amPM[t(e.getHours()>11)]},M:function(e,t){return i(e.getMonth(),!0,t)},S:function(t){return e(t.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(t){return e(t.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(t){return e(t.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(t){return e(t.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},c={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},u=function(e){var t=e.config,n=void 0===t?m:t,a=e.l10n,o=void 0===a?c:a;return function(e,t,a){if(void 0!==n.formatDate)return n.formatDate(e,t);var i=a||o;return t.split("").map(function(t,a,o){return s[t]&&"\\"!==o[a-1]?s[t](e,i,n):"\\"!==t?t:""}).join("")}},d=function(e){var t=e.config,n=void 0===t?m:t,a=e.l10n,o=void 0===a?c:a;return function(e,t,a){if(0===e||e){var i,s=e;if(e instanceof Date)i=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)i=new Date(e);else if("string"==typeof e){var c=t||(n||m).dateFormat,u=String(e).trim();if("today"===u)i=new Date,a=!0;else if(/Z$/.test(u)||/GMT$/.test(u))i=new Date(e);else if(n&&n.parseDate)i=n.parseDate(e,c);else{i=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d,f=[],g=0,p=0,h="";g<c.length;g++){var v=c[g],b="\\"===v,D="\\"===c[g-1]||b;if(l[v]&&!D){h+=l[v];var y=new RegExp(h).exec(e);y&&(d=!0)&&f["Y"!==v?"push":"unshift"]({fn:r[v],val:y[++p]})}else b||(h+=".");f.forEach(function(e){var t=e.fn,n=e.val;return i=t(i,n,o)||i})}i=d?i:void 0}}if(i instanceof Date)return!0===a&&i.setHours(0,0,0,0),i;n.errorHandler(new Error("Invalid date provided: "+s))}}};function f(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var g=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},p={DAY:864e5},m={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:console.warn,getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};function h(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function v(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function b(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function D(e,t){var n=v("div","numInputWrapper"),a=v("input","numInput "+e),o=v("span","arrowUp"),i=v("span","arrowDown");if(a.type="text",a.pattern="\\d*",void 0!==t)for(var r in t)a.setAttribute(r,t[r]);return n.appendChild(a),n.appendChild(o),n.appendChild(i),n}"function"!=typeof Object.assign&&(Object.assign=function(e){if(!e)throw TypeError("Cannot convert undefined or null to object");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var o=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},i=0;i<n.length;i++){o(n[i])}return e});var y=300;function w(o,r){var s={config:Object.assign({},M.defaultConfig),l10n:c};function m(e){return e.bind(s)}function w(n){0!==s.selectedDates.length&&(!function(n){n.preventDefault();var a="keydown"===n.type,o=n.target;void 0!==s.amPM&&n.target===s.amPM&&(s.amPM.textContent=s.l10n.amPM[t(s.amPM.textContent===s.l10n.amPM[0])]);var i=parseFloat(o.getAttribute("data-min")),r=parseFloat(o.getAttribute("data-max")),l=parseFloat(o.getAttribute("data-step")),c=parseInt(o.value,10),u=n.delta||(a?38===n.which?1:-1:0),d=c+l*u;if(void 0!==o.value&&2===o.value.length){var f=o===s.hourElement,g=o===s.minuteElement;d<i?(d=r+d+t(!f)+(t(f)&&t(!s.amPM)),g&&A(void 0,-1,s.hourElement)):d>r&&(d=o===s.hourElement?d-r-t(!s.amPM):i,g&&A(void 0,1,s.hourElement)),s.amPM&&f&&(1===l?d+c===23:Math.abs(d-c)>l)&&(s.amPM.textContent=s.l10n.amPM[t(s.amPM.textContent===s.l10n.amPM[0])]),o.value=e(d)}}(n),"input"!==n.type?(C(),re()):setTimeout(function(){C(),re()},y))}function C(){if(void 0!==s.hourElement&&void 0!==s.minuteElement){var e,n,a=(parseInt(s.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(s.minuteElement.value,10)||0)%60,i=void 0!==s.secondElement?(parseInt(s.secondElement.value,10)||0)%60:0;void 0!==s.amPM&&(e=a,n=s.amPM.textContent,a=e%12+12*t(n===s.l10n.amPM[1]));var r=void 0!==s.config.minTime||s.config.minDate&&s.minDateHasTime&&s.latestSelectedDateObj&&0===f(s.latestSelectedDateObj,s.config.minDate,!0);if(void 0!==s.config.maxTime||s.config.maxDate&&s.maxDateHasTime&&s.latestSelectedDateObj&&0===f(s.latestSelectedDateObj,s.config.maxDate,!0)){var l=void 0!==s.config.maxTime?s.config.maxTime:s.config.maxDate;(a=Math.min(a,l.getHours()))===l.getHours()&&(o=Math.min(o,l.getMinutes())),o===l.getMinutes()&&(i=Math.min(i,l.getSeconds()))}if(r){var c=void 0!==s.config.minTime?s.config.minTime:s.config.minDate;(a=Math.max(a,c.getHours()))===c.getHours()&&(o=Math.max(o,c.getMinutes())),o===c.getMinutes()&&(i=Math.max(i,c.getSeconds()))}x(a,o,i)}}function _(e){var t=e||s.latestSelectedDateObj;t&&x(t.getHours(),t.getMinutes(),t.getSeconds())}function x(n,a,o){void 0!==s.latestSelectedDateObj&&s.latestSelectedDateObj.setHours(n%24,a,o||0,0),s.hourElement&&s.minuteElement&&!s.isMobile&&(s.hourElement.value=e(s.config.time_24hr?n:(12+n)%12+12*t(n%12==0)),s.minuteElement.value=e(a),void 0!==s.amPM&&(s.amPM.textContent=s.l10n.amPM[t(n>=12)]),void 0!==s.secondElement&&(s.secondElement.value=e(o)))}function E(e){var t=parseInt(e.target.value)+(e.delta||0);4!==t.toString().length&&"Enter"!==e.key||(e.target.blur(),/[^\d]/.test(t.toString())||W(t))}function T(e,t,n,a){return t instanceof Array?t.forEach(function(t){return T(e,t,n,a)}):e instanceof Array?e.forEach(function(e){return T(e,t,n,a)}):(e.addEventListener(t,n,a),void s._handlers.push({element:e,event:t,handler:n}))}function k(e){return function(t){1===t.which&&e(t)}}function S(){ne("onChange")}function O(e){var t=void 0!==e?s.parseDate(e):s.latestSelectedDateObj||(s.config.minDate&&s.config.minDate>s.now?s.config.minDate:s.config.maxDate&&s.config.maxDate<s.now?s.config.maxDate:s.now);try{void 0!==t&&(s.currentYear=t.getFullYear(),s.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,s.config.errorHandler(e)}s.redraw()}function I(e){~e.target.className.indexOf("arrow")&&A(e,e.target.classList.contains("arrowUp")?1:-1)}function A(e,t,n){var a=e&&e.target,o=n||a&&a.parentNode&&a.parentNode.firstChild,i=ae("increment");i.delta=t,o&&o.dispatchEvent(i)}function P(e,t,n,a){var o=X(t,!0),i=v("span","flatpickr-day "+e,t.getDate().toString());return i.dateObj=t,i.$i=a,i.setAttribute("aria-label",s.formatDate(t,s.config.ariaDateFormat)),0===f(t,s.now)&&(s.todayDateElem=i,i.classList.add("today")),o?(i.tabIndex=-1,oe(t)&&(i.classList.add("selected"),s.selectedDateElem=i,"range"===s.config.mode&&(h(i,"startRange",s.selectedDates[0]&&0===f(t,s.selectedDates[0],!0)),h(i,"endRange",s.selectedDates[1]&&0===f(t,s.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("disabled"),"range"===s.config.mode&&function(e){return!("range"!==s.config.mode||s.selectedDates.length<2)&&f(e,s.selectedDates[0])>=0&&f(e,s.selectedDates[1])<=0}(t)&&!oe(t)&&i.classList.add("inRange"),s.weekNumbers&&1===s.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&s.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+s.config.getWeek(t)+"</span>"),ne("onDayCreate",i),i}function N(e,t){var n=((void 0!==e?e:document.activeElement.$i)||0)+t||0,a=Array.prototype.find.call(s.days.children,function(e,t){return t>=n&&-1===e.className.indexOf("MonthDay")&&X(e.dateObj)});void 0!==a&&(a.focus(),"range"===s.config.mode&&q(a))}function Y(e,t){for(var n=(new Date(e,t,1).getDay()-s.l10n.firstDayOfWeek+7)%7,a=s.utils.getDaysInMonth((t-1+12)%12),o=s.utils.getDaysInMonth(t),i=window.document.createDocumentFragment(),r=a+1-n,l=0;r<=a;r++,l++)i.appendChild(P("prevMonthDay",new Date(e,t-1,r),r,l));for(r=1;r<=o;r++,l++)i.appendChild(P("",new Date(e,t,r),r,l));for(var c=o+1;c<=42-n&&(1===s.config.showMonths||l%7!=0);c++,l++)i.appendChild(P("nextMonthDay",new Date(e,t+1,c%o),c,l));var u=v("div","dayContainer");return u.appendChild(i),u}function F(){if(void 0!==s.daysContainer){b(s.daysContainer),s.weekNumbers&&b(s.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<s.config.showMonths;t++){var n=new Date(s.currentYear,s.currentMonth,1);n.setMonth(s.currentMonth+t),e.appendChild(Y(n.getFullYear(),n.getMonth()))}s.daysContainer.appendChild(e),s.days=s.daysContainer.firstChild}}function j(){var e=v("div","flatpickr-month"),t=window.document.createDocumentFragment(),n=v("span","cur-month");n.title=s.l10n.scrollTitle;var a=D("cur-year",{tabindex:"-1"}),o=a.childNodes[0];o.title=s.l10n.scrollTitle,o.setAttribute("aria-label",s.l10n.yearAriaLabel),s.config.minDate&&o.setAttribute("data-min",s.config.minDate.getFullYear().toString()),s.config.maxDate&&(o.setAttribute("data-max",s.config.maxDate.getFullYear().toString()),o.disabled=!!s.config.minDate&&s.config.minDate.getFullYear()===s.config.maxDate.getFullYear());var i=v("div","flatpickr-current-month");return i.appendChild(n),i.appendChild(a),t.appendChild(i),e.appendChild(t),{container:e,yearElement:o,monthElement:n}}function L(){var e=s.l10n.firstDayOfWeek,t=s.l10n.weekdays.shorthand.concat();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=s.config.showMonths;n--;)s.weekdayContainer.children[n].innerHTML="\n      <span class=flatpickr-weekday>\n        "+t.join("</span><span class=flatpickr-weekday>")+"\n      </span>\n      "}function H(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var a=t?e:e-s.currentMonth;a<0&&!0===s._hidePrevMonthArrow||a>0&&!0===s._hideNextMonthArrow||(s.currentMonth+=a,(s.currentMonth<0||s.currentMonth>11)&&(s.currentYear+=s.currentMonth>11?1:-1,s.currentMonth=(s.currentMonth+12)%12,ne("onYearChange")),F(),ne("onMonthChange"),ie(),!0===n&&N(void 0,0))}function R(e){return!(!s.config.appendTo||!s.config.appendTo.contains(e))||s.calendarContainer.contains(e)}function B(e){if(s.isOpen&&!s.config.inline){var t=R(e.target),n=e.target===s.input||e.target===s.altInput||s.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(s.input)||~e.path.indexOf(s.altInput)),a="blur"===e.type?n&&e.relatedTarget&&!R(e.relatedTarget):!n&&!t,o=!s.config.ignoredFocusElements.some(function(t){return t.contains(e.target)});a&&o&&(s.close(),"range"===s.config.mode&&1===s.selectedDates.length&&(s.clear(!1),s.redraw()))}}function W(e){if(!(!e||s.config.minDate&&e<s.config.minDate.getFullYear()||s.config.maxDate&&e>s.config.maxDate.getFullYear())){var t=e,n=s.currentYear!==t;s.currentYear=t||s.currentYear,s.config.maxDate&&s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth=Math.min(s.config.maxDate.getMonth(),s.currentMonth):s.config.minDate&&s.currentYear===s.config.minDate.getFullYear()&&(s.currentMonth=Math.max(s.config.minDate.getMonth(),s.currentMonth)),n&&(s.redraw(),ne("onYearChange"))}}function X(e,t){void 0===t&&(t=!0);var n=s.parseDate(e,void 0,t);if(s.config.minDate&&n&&f(n,s.config.minDate,void 0!==t?t:!s.minDateHasTime)<0||s.config.maxDate&&n&&f(n,s.config.maxDate,void 0!==t?t:!s.maxDateHasTime)>0)return!1;if(0===s.config.enable.length&&0===s.config.disable.length)return!0;if(void 0===n)return!1;for(var a,o=s.config.enable.length>0,i=o?s.config.enable:s.config.disable,r=0;r<i.length;r++){if("function"==typeof(a=i[r])&&a(n))return o;if(a instanceof Date&&void 0!==n&&a.getTime()===n.getTime())return o;if("string"==typeof a&&void 0!==n){var l=s.parseDate(a,void 0,!0);return l&&l.getTime()===n.getTime()?o:!o}if("object"==typeof a&&void 0!==n&&a.from&&a.to&&n.getTime()>=a.from.getTime()&&n.getTime()<=a.to.getTime())return o}return!o}function U(e){var t=e.target===s._input,n=R(e.target),a=s.config.allowInput,o=s.isOpen&&(!a||!t),i=s.config.inline&&t&&!a;if(13===e.keyCode&&t){if(a)return s.setDate(s._input.value,!0,e.target===s.altInput?s.config.altFormat:s.config.dateFormat),e.target.blur();s.open()}else if(n||o||i){var r=!!s.timeContainer&&s.timeContainer.contains(e.target);switch(e.keyCode){case 13:r?re():Z(e);break;case 27:e.preventDefault(),G();break;case 8:case 46:t&&!s.config.allowInput&&(e.preventDefault(),s.clear());break;case 37:case 39:if(r)s.hourElement&&s.hourElement.focus();else if(e.preventDefault(),s.daysContainer){var l=t?0:39===e.keyCode?1:-1;e.ctrlKey?H(l,!0,!0):N(void 0,l)}break;case 38:case 40:e.preventDefault();var c=40===e.keyCode?1:-1;s.daysContainer&&void 0!==e.target.$i?e.ctrlKey?(W(s.currentYear-c),N(e.target.$i,0)):r||N(e.target.$i,7*c):s.config.enableTime&&(!r&&s.hourElement&&s.hourElement.focus(),w(e),s._debouncedChange());break;case 9:e.target===s.hourElement?(e.preventDefault(),s.minuteElement.select()):e.target===s.minuteElement&&(s.secondElement||s.amPM)?(e.preventDefault(),void 0!==s.secondElement?s.secondElement.focus():void 0!==s.amPM&&s.amPM.focus()):e.target===s.secondElement&&s.amPM&&(e.preventDefault(),s.amPM.focus())}switch(e.key){case s.l10n.amPM[0].charAt(0):case s.l10n.amPM[0].charAt(0).toLowerCase():void 0!==s.amPM&&e.target===s.amPM&&(s.amPM.textContent=s.l10n.amPM[0],C(),re());break;case s.l10n.amPM[1].charAt(0):case s.l10n.amPM[1].charAt(0).toLowerCase():void 0!==s.amPM&&e.target===s.amPM&&(s.amPM.textContent=s.l10n.amPM[1],C(),re())}ne("onKeyDown",e)}}function q(e){if(1===s.selectedDates.length&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")){for(var t=e.dateObj.getTime(),n=s.parseDate(s.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,s.selectedDates[0].getTime()),o=Math.max(t,s.selectedDates[0].getTime()),i=s.daysContainer.children,r=i[0].children[0].dateObj.getTime(),l=i[i.length-1].lastChild.dateObj.getTime(),c=!1,u=0,d=0,f=r;f<l;f+=p.DAY)X(new Date(f),!0)||(c=c||f>a&&f<o,f<n&&(!u||f>u)?u=f:f>n&&(!d||f<d)&&(d=f));for(var m=0;m<s.config.showMonths;m++)for(var h=s.daysContainer.children[m],v=s.daysContainer.children[m-1],b=function(a,o){var i=h.children[a],r=i.dateObj.getTime(),l=u>0&&r<u||d>0&&r>d;return l?(i.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){i.classList.remove(e)}),"continue"):c&&!l?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(e){i.classList.remove(e)}),e.classList.add(t<s.selectedDates[0].getTime()?"startRange":"endRange"),void(!h.contains(e)&&m>0&&v&&v.lastChild.dateObj.getTime()>=r||(n<t&&r===n?i.classList.add("startRange"):n>t&&r===n&&i.classList.add("endRange"),r>=u&&(0===d||r<=d)&&g(r,n,t)&&i.classList.add("inRange"))))},D=0,y=h.children.length;D<y;D++)b(D)}}function K(){!s.isOpen||s.config.static||s.config.inline||$()}function J(e){return function(t){var n=s.config["_"+e+"Date"]=s.parseDate(t,s.config.dateFormat),a=s.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(s["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),s.selectedDates&&(s.selectedDates=s.selectedDates.filter(function(e){return X(e)}),s.selectedDates.length||"min"!==e||_(n),re()),s.daysContainer&&(z(),void 0!==n?s.currentYearElement[e]=n.getFullYear().toString():s.currentYearElement.removeAttribute(e),s.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function V(){"object"!=typeof s.config.locale&&void 0===M.l10ns[s.config.locale]&&s.config.errorHandler(new Error("flatpickr: invalid locale "+s.config.locale)),s.l10n=Object.assign({},M.l10ns.default,"object"==typeof s.config.locale?s.config.locale:"default"!==s.config.locale?M.l10ns[s.config.locale]:void 0),l.K="("+s.l10n.amPM[0]+"|"+s.l10n.amPM[1]+"|"+s.l10n.amPM[0].toLowerCase()+"|"+s.l10n.amPM[1].toLowerCase()+")",s.formatDate=u(s)}function $(e){if(void 0!==s.calendarContainer){ne("onPreCalendarPosition");var t=e||s._positionElement,n=Array.prototype.reduce.call(s.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),a=s.calendarContainer.offsetWidth,o=s.config.position,i=t.getBoundingClientRect(),r=window.innerHeight-i.bottom,l="above"===o||"below"!==o&&r<n&&i.top>n,c=window.pageYOffset+i.top+(l?-n-2:t.offsetHeight+2);if(h(s.calendarContainer,"arrowTop",!l),h(s.calendarContainer,"arrowBottom",l),!s.config.inline){var u=window.pageXOffset+i.left,d=window.document.body.offsetWidth-i.right,f=u+a>window.document.body.offsetWidth;h(s.calendarContainer,"rightMost",f),s.config.static||(s.calendarContainer.style.top=c+"px",f?(s.calendarContainer.style.left="auto",s.calendarContainer.style.right=d+"px"):(s.calendarContainer.style.left=u+"px",s.calendarContainer.style.right="auto"))}}}function z(){s.config.noCalendar||s.isMobile||(L(),ie(),F())}function G(){s._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(s.close,0):s.close()}function Z(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,a=s.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(a.getMonth()<s.currentMonth||a.getMonth()>s.currentMonth+s.config.showMonths-1)&&"range"!==s.config.mode;if(s.selectedDateElem=n,"single"===s.config.mode)s.selectedDates=[a];else if("multiple"===s.config.mode){var i=oe(a);i?s.selectedDates.splice(parseInt(i),1):s.selectedDates.push(a)}else"range"===s.config.mode&&(2===s.selectedDates.length&&s.clear(!1),s.selectedDates.push(a),0!==f(a,s.selectedDates[0],!0)&&s.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(C(),o){var r=s.currentYear!==a.getFullYear();s.currentYear=a.getFullYear(),s.currentMonth=a.getMonth(),r&&ne("onYearChange"),ne("onMonthChange")}if(ie(),F(),s.config.minDate&&s.minDateHasTime&&s.config.enableTime&&0===f(a,s.config.minDate)&&_(s.config.minDate),re(),s.config.enableTime&&setTimeout(function(){return s.showTimeInput=!0},50),"range"===s.config.mode&&(1===s.selectedDates.length?q(n):ie()),o||"range"===s.config.mode||1!==s.config.showMonths?s.selectedDateElem&&s.selectedDateElem.focus():N(n.$i,0),void 0!==s.hourElement&&setTimeout(function(){return void 0!==s.hourElement&&s.hourElement.select()},451),s.config.closeOnSelect){var l="single"===s.config.mode&&!s.config.enableTime,c="range"===s.config.mode&&2===s.selectedDates.length&&!s.config.enableTime;(l||c)&&G()}S()}}s.parseDate=d({config:s.config,l10n:s.l10n}),s._handlers=[],s._bind=T,s._setHoursFromDate=_,s.changeMonth=H,s.changeYear=W,s.clear=function(e){void 0===e&&(e=!0);s.input.value="",void 0!==s.altInput&&(s.altInput.value="");void 0!==s.mobileInput&&(s.mobileInput.value="");s.selectedDates=[],s.latestSelectedDateObj=void 0,s.showTimeInput=!1,!0===s.config.enableTime&&(void 0!==s.config.minDate?_(s.config.minDate):x(s.config.defaultHour,s.config.defaultMinute,s.config.defaultSeconds));s.redraw(),e&&ne("onChange")},s.close=function(){s.isOpen=!1,s.isMobile||(s.calendarContainer.classList.remove("open"),s._input.classList.remove("active"));ne("onClose")},s._createElement=v,s.destroy=function(){void 0!==s.config&&ne("onDestroy");for(var e=s._handlers.length;e--;){var t=s._handlers[e];t.element.removeEventListener(t.event,t.handler)}s._handlers=[],s.mobileInput?(s.mobileInput.parentNode&&s.mobileInput.parentNode.removeChild(s.mobileInput),s.mobileInput=void 0):s.calendarContainer&&s.calendarContainer.parentNode&&s.calendarContainer.parentNode.removeChild(s.calendarContainer);s.altInput&&(s.input.type="text",s.altInput.parentNode&&s.altInput.parentNode.removeChild(s.altInput),delete s.altInput);s.input&&(s.input.type=s.input._type,s.input.classList.remove("flatpickr-input"),s.input.removeAttribute("readonly"),s.input.value="");["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete s[e]}catch(e){}})},s.isEnabled=X,s.jumpToDate=O,s.open=function(e,t){void 0===t&&(t=s._input);if(!0===s.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),setTimeout(function(){void 0!==s.mobileInput&&s.mobileInput.click()},0),void ne("onOpen");if(s._input.disabled||s.config.inline)return;var n=s.isOpen;s.isOpen=!0,n||(s.calendarContainer.classList.add("open"),s._input.classList.add("active"),ne("onOpen"),$(t));!0===s.config.enableTime&&!0===s.config.noCalendar&&(0===s.selectedDates.length&&(s.setDate(void 0!==s.config.minDate?new Date(s.config.minDate.getTime()):(new Date).setHours(s.config.defaultHour,s.config.defaultMinute,s.config.defaultSeconds,0),!1),C(),re()),setTimeout(function(){return s.hourElement.select()},50))},s.redraw=z,s.set=function(e,t){null!==e&&"object"==typeof e?Object.assign(s.config,e):(s.config[e]=t,void 0!==Q[e]&&Q[e].forEach(function(e){return e()}));s.redraw(),O()},s.setDate=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=s.config.dateFormat);if(0!==e&&!e)return s.clear(t);ee(e,n),s.showTimeInput=s.selectedDates.length>0,s.latestSelectedDateObj=s.selectedDates[0],s.redraw(),O(),_(),re(t),t&&ne("onChange")},s.toggle=function(){if(s.isOpen)return s.close();s.open()};var Q={locale:[V]};function ee(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return s.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[s.parseDate(e,t)];else if("string"==typeof e)switch(s.config.mode){case"single":n=[s.parseDate(e,t)];break;case"multiple":n=e.split(s.config.conjunction).map(function(e){return s.parseDate(e,t)});break;case"range":n=e.split(s.l10n.rangeSeparator).map(function(e){return s.parseDate(e,t)})}else s.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));s.selectedDates=n.filter(function(e){return e instanceof Date&&X(e,!1)}),"range"===s.config.mode&&s.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function te(e){return e.map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?s.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:s.parseDate(e.from,void 0),to:s.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ne(e,t){var n=s.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](s.selectedDates,s.input.value,s,t);"onChange"===e&&(s.input.dispatchEvent(ae("change")),s.input.dispatchEvent(ae("input")))}function ae(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function oe(e){for(var t=0;t<s.selectedDates.length;t++)if(0===f(s.selectedDates[t],e))return""+t;return!1}function ie(){s.config.noCalendar||s.isMobile||!s.monthNav||(s.yearElements.forEach(function(e,t){var n=new Date(s.currentYear,s.currentMonth,1);n.setMonth(s.currentMonth+t),s.monthElements[t].textContent=i(n.getMonth(),s.config.shorthandCurrentMonth,s.l10n)+" ",e.value=n.getFullYear().toString()}),s._hidePrevMonthArrow=void 0!==s.config.minDate&&(s.currentYear===s.config.minDate.getFullYear()?s.currentMonth<=s.config.minDate.getMonth():s.currentYear<s.config.minDate.getFullYear()),s._hideNextMonthArrow=void 0!==s.config.maxDate&&(s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth+1>s.config.maxDate.getMonth():s.currentYear>s.config.maxDate.getFullYear()))}function re(e){if(void 0===e&&(e=!0),0===s.selectedDates.length)return s.clear(e);void 0!==s.mobileInput&&s.mobileFormatStr&&(s.mobileInput.value=void 0!==s.latestSelectedDateObj?s.formatDate(s.latestSelectedDateObj,s.mobileFormatStr):"");var t="range"!==s.config.mode?s.config.conjunction:s.l10n.rangeSeparator;s.input.value=s.selectedDates.map(function(e){return s.formatDate(e,s.config.dateFormat)}).join(t),void 0!==s.altInput&&(s.altInput.value=s.selectedDates.map(function(e){return s.formatDate(e,s.config.altFormat)}).join(t)),!1!==e&&ne("onValueUpdate")}function le(e){var t=s.prevMonthNav.contains(e.target),n=s.nextMonthNav.contains(e.target);t||n?H(t?-1:1):s.yearElements.indexOf(e.target)>=0?(e.preventDefault(),e.target.select()):e.target.classList.contains("arrowUp")?s.changeYear(s.currentYear+1):e.target.classList.contains("arrowDown")&&s.changeYear(s.currentYear-1)}return function(){if(s.element=s.input=o,s.isOpen=!1,function(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n=Object.assign({},r,JSON.parse(JSON.stringify(o.dataset||{}))),i={};s.config.parseDate=n.parseDate,s.config.formatDate=n.formatDate,Object.defineProperty(s.config,"enable",{get:function(){return s.config._enable},set:function(e){s.config._enable=te(e)}}),Object.defineProperty(s.config,"disable",{get:function(){return s.config._disable},set:function(e){s.config._disable=te(e)}}),!n.dateFormat&&n.enableTime&&(i.dateFormat=n.noCalendar?"H:i"+(n.enableSeconds?":S":""):M.defaultConfig.dateFormat+" H:i"+(n.enableSeconds?":S":"")),n.altInput&&n.enableTime&&!n.altFormat&&(i.altFormat=n.noCalendar?"h:i"+(n.enableSeconds?":S K":" K"):M.defaultConfig.altFormat+" h:i"+(n.enableSeconds?":S":"")+" K"),Object.defineProperty(s.config,"minDate",{get:function(){return s.config._minDate},set:J("min")}),Object.defineProperty(s.config,"maxDate",{get:function(){return s.config._maxDate},set:J("max")});var l=function(e){return function(t){s.config["min"===e?"_minTime":"_maxTime"]=s.parseDate(t,"H:i")}};Object.defineProperty(s.config,"minTime",{get:function(){return s.config._minTime},set:l("min")}),Object.defineProperty(s.config,"maxTime",{get:function(){return s.config._maxTime},set:l("max")}),Object.assign(s.config,i,n);for(var c=0;c<e.length;c++)s.config[e[c]]=!0===s.config[e[c]]||"true"===s.config[e[c]];for(var u=t.length;u--;)void 0!==s.config[t[u]]&&(s.config[t[u]]=a(s.config[t[u]]||[]).map(m));"time"===s.config.mode&&(s.config.noCalendar=!0,s.config.enableTime=!0);for(var d=0;d<s.config.plugins.length;d++){var f=s.config.plugins[d](s)||{};for(var g in f)~t.indexOf(g)?s.config[g]=a(f[g]).map(m).concat(s.config[g]):void 0===n[g]&&(s.config[g]=f[g])}s.isMobile=!s.config.disableMobile&&!s.config.inline&&"single"===s.config.mode&&!s.config.disable.length&&!s.config.enable.length&&!s.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ne("onParseConfig")}(),V(),s.input=s.config.wrap?o.querySelector("[data-input]"):o,s.input?(s.input._type=s.input.type,s.input.type="text",s.input.classList.add("flatpickr-input"),s._input=s.input,s.config.altInput&&(s.altInput=v(s.input.nodeName,s.input.className+" "+s.config.altInputClass),s._input=s.altInput,s.altInput.placeholder=s.input.placeholder,s.altInput.disabled=s.input.disabled,s.altInput.required=s.input.required,s.altInput.tabIndex=s.input.tabIndex,s.altInput.type="text",s.input.type="hidden",!s.config.static&&s.input.parentNode&&s.input.parentNode.insertBefore(s.altInput,s.input.nextSibling)),s.config.allowInput||s._input.setAttribute("readonly","readonly"),s._positionElement=s.config.positionElement||s._input):s.config.errorHandler(new Error("Invalid input element specified")),function(){s.selectedDates=[],s.now=s.parseDate(s.config.now)||new Date;var e=s.config.defaultDate||s.input.value;e&&ee(e,s.config.dateFormat);var t=s.selectedDates.length>0?s.selectedDates[0]:s.config.minDate&&s.config.minDate.getTime()>s.now.getTime()?s.config.minDate:s.config.maxDate&&s.config.maxDate.getTime()<s.now.getTime()?s.config.maxDate:s.now;s.currentYear=t.getFullYear(),s.currentMonth=t.getMonth(),s.selectedDates.length>0&&(s.latestSelectedDateObj=s.selectedDates[0]),void 0!==s.config.minTime&&(s.config.minTime=s.parseDate(s.config.minTime,"H:i")),void 0!==s.config.maxTime&&(s.config.maxTime=s.parseDate(s.config.maxTime,"H:i")),s.minDateHasTime=!!s.config.minDate&&(s.config.minDate.getHours()>0||s.config.minDate.getMinutes()>0||s.config.minDate.getSeconds()>0),s.maxDateHasTime=!!s.config.maxDate&&(s.config.maxDate.getHours()>0||s.config.maxDate.getMinutes()>0||s.config.maxDate.getSeconds()>0),Object.defineProperty(s,"showTimeInput",{get:function(){return s._showTimeInput},set:function(e){s._showTimeInput=e,s.calendarContainer&&h(s.calendarContainer,"showTimeInput",e),s.isOpen&&$()}})}(),s.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=s.currentMonth),void 0===t&&(t=s.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:s.l10n.daysInMonth[e]}},s.isMobile||function(){var n=window.document.createDocumentFragment();if(s.calendarContainer=v("div","flatpickr-calendar"),s.calendarContainer.tabIndex=-1,!s.config.noCalendar){if(n.appendChild(function(){s.monthNav=v("div","flatpickr-months"),s.yearElements=[],s.monthElements=[],s.prevMonthNav=v("span","flatpickr-prev-month"),s.prevMonthNav.innerHTML=s.config.prevArrow,s.nextMonthNav=v("span","flatpickr-next-month"),s.nextMonthNav.innerHTML=s.config.nextArrow,s.monthNav.appendChild(s.prevMonthNav);for(var e=s.config.showMonths;e--;){var t=j();s.yearElements.push(t.yearElement),s.monthElements.push(t.monthElement),s.monthNav.appendChild(t.container)}return s.monthNav.appendChild(s.nextMonthNav),Object.defineProperty(s,"_hidePrevMonthArrow",{get:function(){return s.__hidePrevMonthArrow},set:function(e){s.__hidePrevMonthArrow!==e&&(h(s.prevMonthNav,"disabled",e),s.__hidePrevMonthArrow=e)}}),Object.defineProperty(s,"_hideNextMonthArrow",{get:function(){return s.__hideNextMonthArrow},set:function(e){s.__hideNextMonthArrow!==e&&(h(s.nextMonthNav,"disabled",e),s.__hideNextMonthArrow=e)}}),s.currentYearElement=s.yearElements[0],ie(),s.monthNav}()),s.innerContainer=v("div","flatpickr-innerContainer"),s.config.weekNumbers){var a=function(){s.calendarContainer.classList.add("hasWeeks");var e=v("div","flatpickr-weekwrapper");e.appendChild(v("span","flatpickr-weekday",s.l10n.weekAbbreviation));var t=v("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),o=a.weekWrapper,i=a.weekNumbers;s.innerContainer.appendChild(o),s.weekNumbers=i,s.weekWrapper=o}s.rContainer=v("div","flatpickr-rContainer"),s.rContainer.appendChild(function(){s.weekdayContainer||(s.weekdayContainer=v("div","flatpickr-weekdays"));for(var e=s.config.showMonths;e--;){var t=v("div","flatpickr-weekdaycontainer");s.weekdayContainer.appendChild(t)}return L(),s.weekdayContainer}()),s.daysContainer||(s.daysContainer=v("div","flatpickr-days"),s.daysContainer.tabIndex=-1),F(),s.rContainer.appendChild(s.daysContainer),s.innerContainer.appendChild(s.rContainer),n.appendChild(s.innerContainer)}s.config.enableTime&&n.appendChild(function(){s.calendarContainer.classList.add("hasTime"),s.config.noCalendar&&s.calendarContainer.classList.add("noCalendar"),s.timeContainer=v("div","flatpickr-time"),s.timeContainer.tabIndex=-1;var n=v("span","flatpickr-time-separator",":"),a=D("flatpickr-hour");s.hourElement=a.childNodes[0];var o=D("flatpickr-minute");if(s.minuteElement=o.childNodes[0],s.hourElement.tabIndex=s.minuteElement.tabIndex=-1,s.hourElement.value=e(s.latestSelectedDateObj?s.latestSelectedDateObj.getHours():s.config.time_24hr?s.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(s.config.defaultHour)),s.minuteElement.value=e(s.latestSelectedDateObj?s.latestSelectedDateObj.getMinutes():s.config.defaultMinute),s.hourElement.setAttribute("data-step",s.config.hourIncrement.toString()),s.minuteElement.setAttribute("data-step",s.config.minuteIncrement.toString()),s.hourElement.setAttribute("data-min",s.config.time_24hr?"0":"1"),s.hourElement.setAttribute("data-max",s.config.time_24hr?"23":"12"),s.minuteElement.setAttribute("data-min","0"),s.minuteElement.setAttribute("data-max","59"),s.timeContainer.appendChild(a),s.timeContainer.appendChild(n),s.timeContainer.appendChild(o),s.config.time_24hr&&s.timeContainer.classList.add("time24hr"),s.config.enableSeconds){s.timeContainer.classList.add("hasSeconds");var i=D("flatpickr-second");s.secondElement=i.childNodes[0],s.secondElement.value=e(s.latestSelectedDateObj?s.latestSelectedDateObj.getSeconds():s.config.defaultSeconds),s.secondElement.setAttribute("data-step",s.minuteElement.getAttribute("data-step")),s.secondElement.setAttribute("data-min",s.minuteElement.getAttribute("data-min")),s.secondElement.setAttribute("data-max",s.minuteElement.getAttribute("data-max")),s.timeContainer.appendChild(v("span","flatpickr-time-separator",":")),s.timeContainer.appendChild(i)}return s.config.time_24hr||(s.amPM=v("span","flatpickr-am-pm",s.l10n.amPM[t((s.latestSelectedDateObj?s.hourElement.value:s.config.defaultHour)>11)]),s.amPM.title=s.l10n.toggleTitle,s.amPM.tabIndex=-1,s.timeContainer.appendChild(s.amPM)),s.timeContainer}()),h(s.calendarContainer,"rangeMode","range"===s.config.mode),h(s.calendarContainer,"animate",!0===s.config.animate),h(s.calendarContainer,"multiMonth",s.config.showMonths>1),s.calendarContainer.appendChild(n);var r=void 0!==s.config.appendTo&&void 0!==s.config.appendTo.nodeType;if((s.config.inline||s.config.static)&&(s.calendarContainer.classList.add(s.config.inline?"inline":"static"),s.config.inline&&(!r&&s.element.parentNode?s.element.parentNode.insertBefore(s.calendarContainer,s._input.nextSibling):void 0!==s.config.appendTo&&s.config.appendTo.appendChild(s.calendarContainer)),s.config.static)){var l=v("div","flatpickr-wrapper");s.element.parentNode&&s.element.parentNode.insertBefore(l,s.element),l.appendChild(s.element),s.altInput&&l.appendChild(s.altInput),l.appendChild(s.calendarContainer)}s.config.static||s.config.inline||(void 0!==s.config.appendTo?s.config.appendTo:window.document.body).appendChild(s.calendarContainer)}(),function(){if(s.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(s.element.querySelectorAll("[data-"+e+"]"),function(t){return T(t,"click",s[e])})}),s.isMobile)!function(){var e=s.config.enableTime?s.config.noCalendar?"time":"datetime-local":"date";s.mobileInput=v("input",s.input.className+" flatpickr-mobile"),s.mobileInput.step=s.input.getAttribute("step")||"any",s.mobileInput.tabIndex=1,s.mobileInput.type=e,s.mobileInput.disabled=s.input.disabled,s.mobileInput.required=s.input.required,s.mobileInput.placeholder=s.input.placeholder,s.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",s.selectedDates.length>0&&(s.mobileInput.defaultValue=s.mobileInput.value=s.formatDate(s.selectedDates[0],s.mobileFormatStr)),s.config.minDate&&(s.mobileInput.min=s.formatDate(s.config.minDate,"Y-m-d")),s.config.maxDate&&(s.mobileInput.max=s.formatDate(s.config.maxDate,"Y-m-d")),s.input.type="hidden",void 0!==s.altInput&&(s.altInput.type="hidden");try{s.input.parentNode&&s.input.parentNode.insertBefore(s.mobileInput,s.input.nextSibling)}catch(e){}T(s.mobileInput,"change",function(e){s.setDate(e.target.value,!1,s.mobileFormatStr),ne("onChange"),ne("onClose")})}();else{var e=n(K,50);s._debouncedChange=n(S,y),s.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&T(s.daysContainer,"mouseover",function(e){"range"===s.config.mode&&q(e.target)}),T(window.document.body,"keydown",U),s.config.static||T(s._input,"keydown",U),s.config.inline||s.config.static||T(window,"resize",e),void 0!==window.ontouchstart&&T(window.document,"touchstart",B),T(window.document,"mousedown",k(B)),T(window.document,"focus",B,{capture:!0}),!0===s.config.clickOpens&&(T(s._input,"focus",s.open),T(s._input,"mousedown",k(s.open))),void 0!==s.daysContainer&&(T(s.monthNav,"mousedown",k(le)),T(s.monthNav,["keyup","increment"],E),T(s.daysContainer,"mousedown",k(Z))),void 0!==s.timeContainer&&void 0!==s.minuteElement&&void 0!==s.hourElement&&(T(s.timeContainer,["input","increment"],w),T(s.timeContainer,"mousedown",k(I)),T(s.timeContainer,["input","increment"],s._debouncedChange,{passive:!0}),T([s.hourElement,s.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==s.secondElement&&T(s.secondElement,"focus",function(){return s.secondElement&&s.secondElement.select()}),void 0!==s.amPM&&T(s.amPM,"mousedown",k(function(e){w(e),S()})))}}(),(s.selectedDates.length||s.config.noCalendar)&&(s.config.enableTime&&_(s.config.noCalendar?s.latestSelectedDateObj||s.config.minDate:void 0),re(!1)),s.showTimeInput=s.selectedDates.length>0||s.config.noCalendar,void 0!==s.daysContainer){s.calendarContainer.style.visibility="hidden",s.calendarContainer.style.display="block";var i=(s.daysContainer.offsetWidth+1)*s.config.showMonths;s.daysContainer.style.width=i+"px",s.calendarContainer.style.width=i+"px",void 0!==s.weekWrapper&&(s.calendarContainer.style.width=i+s.weekWrapper.offsetWidth+"px"),s.calendarContainer.style.visibility="visible",s.calendarContainer.style.display=null}var l=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!s.isMobile&&l&&$(),ne("onReady")}(),s}function C(e,t){for(var n=Array.prototype.slice.call(e),a=[],o=0;o<n.length;o++){var i=n[o];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=w(i,t||{}),a.push(i._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var M=function(e,t){return e instanceof NodeList?C(e,t):C("string"==typeof e?window.document.querySelectorAll(e):[e],t)};return M.defaultConfig=m,M.l10ns={en:Object.assign({},c),default:Object.assign({},c)},M.localize=function(e){M.l10ns.default=Object.assign({},M.l10ns.default,e)},M.setDefaults=function(e){M.defaultConfig=Object.assign({},M.defaultConfig,e)},M.parseDate=d({}),M.formatDate=u({}),M.compareDates=f,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},M},e.exports=a()},function(e,t,n){var a=n(12);document.addEventListener("click",function(e){var t=e.target;t.classList.contains("resource-delete")&&(a.show({body:"<p>Are you sure you want to delete the resource?</p>",buttons:{cancel:{title:"Cancel",fn:a.close},action:{title:"Delete",fn:function(){t.parentNode.submit()}}}}),e.preventDefault())})},function(e,t,n){var a,o;o=function(){return function e(t,n,o){function i(l,s){if(!n[l]){if(!t[l]){if(!s&&("function"==typeof a&&a))return a(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){return i(t[l][1][e]||e)},u,u.exports,e,t,n,o)}return n[l].exports}for(var r="function"==typeof a&&a,l=0;l<o.length;l++)i(o[l]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=null,o=(n.THEME={small:"basicModal__small",xclose:"basicModal__xclose"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?document.querySelectorAll(".basicModal "+e):document.querySelector(".basicModal "+e)}),i=function(e,t){return null!=e&&(e.constructor===Object?Array.prototype.forEach.call(Object.keys(e),function(n){return t(e[n],n,e)}):Array.prototype.forEach.call(e,function(n,a){return t(n,a,e)}))},r=n.getValues=function(){var e={},t=o("input[name]",!0),n=o("select[name]",!0);return i(t,function(t){var n=t.getAttribute("name"),a=t.value;e[n]=a}),i(n,function(t){var n=t.getAttribute("name"),a=t.options[t.selectedIndex].value;e[n]=a}),0===Object.keys(e).length?null:e},l=function(e){return null!=e.buttons.cancel&&(o("#basicModal__cancel").onclick=function(){if(!0===this.classList.contains("basicModal__button--active"))return!1;this.classList.add("basicModal__button--active"),e.buttons.cancel.fn()}),null!=e.buttons.action&&(o("#basicModal__action").onclick=function(){if(!0===this.classList.contains("basicModal__button--active"))return!1;this.classList.add("basicModal__button--active"),e.buttons.action.fn(r())}),i(o("input",!0),function(e){e.oninput=e.onblur=function(){this.classList.remove("error")}}),i(o("select",!0),function(e){e.onchange=e.onblur=function(){this.classList.remove("error")}}),!0},s=(n.show=function e(t){if(!1===function(e){return null==e||0===Object.keys(e).length?(console.error("Missing or empty modal configuration object"),!1):(null==e.body&&(e.body=""),null==e.class&&(e.class=""),!1!==e.closable&&(e.closable=!0),null==e.buttons?(console.error("basicModal requires at least one button"),!1):null!=e.buttons.action&&(null==e.buttons.action.class&&(e.buttons.action.class=""),null==e.buttons.action.title&&(e.buttons.action.title="OK"),null==e.buttons.action.fn)?(console.error("Missing fn for action-button"),!1):null==e.buttons.cancel||(null==e.buttons.cancel.class&&(e.buttons.cancel.class=""),null==e.buttons.cancel.title&&(e.buttons.cancel.title="Cancel"),null!=e.buttons.cancel.fn)||(console.error("Missing fn for cancel-button"),!1))}(t))return!1;if(null!=o())return u(!0),setTimeout(function(){return e(t)},301),!1;a=document.activeElement;var n=function(e){var t="";return t+="\n\t        <div class='basicModalContainer basicModalContainer--fadeIn' data-closable='"+e.closable+"'>\n\t            <div class='basicModal basicModal--fadeIn "+e.class+"' role=\"dialog\">\n\t                <div class='basicModal__content'>\n\t                    "+e.body+"\n\t                </div>\n\t                <div class='basicModal__buttons'>\n\t        ",null!=e.buttons.cancel&&(-1===e.buttons.cancel.class.indexOf("basicModal__xclose")?t+="<a id='basicModal__cancel' class='basicModal__button "+e.buttons.cancel.class+"'>"+e.buttons.cancel.title+"</a>":t+="<div id='basicModal__cancel' class='basicModal__button "+e.buttons.cancel.class+'\' aria-label=\'close\'><svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M405 136.798l-29.798-29.798-119.202 119.202-119.202-119.202-29.798 29.798 119.202 119.202-119.202 119.202 29.798 29.798 119.202-119.202 119.202 119.202 29.798-29.798-119.202-119.202z"/></svg></div>'),null!=e.buttons.action&&(t+="<a id='basicModal__action' class='basicModal__button "+e.buttons.action.class+"'>"+e.buttons.action.title+"</a>"),t+"\n\t                </div>\n\t            </div>\n\t        </div>\n\t        "}(t);document.body.insertAdjacentHTML("beforeend",n),l(t);var i=o("input");null!=i&&i.select();var r=o("select");return null==i&&null!=r&&r.focus(),null!=t.callback&&t.callback(t),!0},n.error=function(e){c();var t=o("input[name='"+e+"']")||o("select[name='"+e+"']");if(null==t)return!1;t.classList.add("error"),"function"==typeof t.select?t.select():t.focus(),o().classList.remove("basicModal--fadeIn","basicModal--shake"),setTimeout(function(){return o().classList.add("basicModal--shake")},1)},n.visible=function(){return null!=o()}),c=(n.action=function(){var e=o("#basicModal__action");return null!=e&&(e.click(),!0)},n.cancel=function(){var e=o("#basicModal__cancel");return null!=e&&(e.click(),!0)},n.reset=function(){var e=o(".basicModal__button",!0);i(e,function(e){return e.classList.remove("basicModal__button--active")});var t=o("input",!0);i(t,function(e){return e.classList.remove("error")});var n=o("select",!0);return i(n,function(e){return e.classList.remove("error")}),!0}),u=n.close=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===s())return!1;var t=o().parentElement;return("false"!==t.getAttribute("data-closable")||!1!==e)&&(t.classList.remove("basicModalContainer--fadeIn"),t.classList.add("basicModalContainer--fadeOut"),setTimeout(function(){return null!=t&&null!=t.parentElement&&void t.parentElement.removeChild(t)},300),null!=a&&(a.focus(),a=null),!0)}},{}]},{},[1])(1)},e.exports=o()},function(e,t,n){var a,o;!function(i){"use strict";void 0===(o="function"==typeof(a=i)?a.call(t,n,t,e):a)||(e.exports=o)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,a,o,i,r,l,s,c,u,d,f,g,p,m,h,v,b,D,y,w={},C=/\s+/g,M=/left|right|inline/,_="Sortable"+(new Date).getTime(),x=window,E=x.document,T=x.parseInt,k=x.setTimeout,S=x.jQuery||x.Zepto,O=x.Polymer,I=!1,A="draggable"in E.createElement("div"),P=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((y=E.createElement("x")).style.cssText="pointer-events:auto","auto"===y.style.pointerEvents),N=!1,Y=Math.abs,F=Math.min,j=[],L=[],H=ae(function(e,t,n){if(n&&t.scroll){var a,o,i,r,u,d,f=n[_],g=t.scrollSensitivity,p=t.scrollSpeed,m=e.clientX,h=e.clientY,v=window.innerWidth,b=window.innerHeight;if(s!==n&&(l=t.scroll,s=n,c=t.scrollFn,!0===l)){l=n;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight)break}while(l=l.parentNode)}l&&(a=l,o=l.getBoundingClientRect(),i=(Y(o.right-m)<=g)-(Y(o.left-m)<=g),r=(Y(o.bottom-h)<=g)-(Y(o.top-h)<=g)),i||r||(r=(b-h<=g)-(h<=g),((i=(v-m<=g)-(m<=g))||r)&&(a=x)),w.vx===i&&w.vy===r&&w.el===a||(w.el=a,w.vx=i,w.vy=r,clearInterval(w.pid),a&&(w.pid=setInterval(function(){if(d=r?r*p:0,u=i?i*p:0,"function"==typeof c)return c.call(f,u,d,e);a===x?x.scrollTo(x.pageXOffset+u,x.pageYOffset+d):(a.scrollTop+=d,a.scrollLeft+=u)},24)))}},30),R=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,a){var o=a.options.group.name;return t?e:e&&(e.join?e.indexOf(o)>-1:o==e)}}var n={},a=e.group;a&&"object"==typeof a||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){I={capture:!1,passive:!1}}}))}catch(e){}function B(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=oe({},t),e[_]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==B.supportPointer};for(var a in n)!(a in t)&&(t[a]=n[a]);for(var o in R(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&A,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),t.supportPointer&&q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),L.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function W(t,n){"clone"!==t.lastPullMode&&(n=!0),a&&a.state!==n&&(V(a,"display",n?"none":""),n||a.state&&(t.options.group.revertClone?(o.insertBefore(a,i),t._animate(e,a)):o.insertBefore(a,e)),a.state=n)}function X(e,t,n){if(e){n=n||E;do{if(">*"===t&&e.parentNode===n||ne(e,t))return e}while(e=U(e))}return null}function U(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function q(e,t,n){e.addEventListener(t,n,I)}function K(e,t,n){e.removeEventListener(t,n,I)}function J(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(C," ")}}function V(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return E.defaultView&&E.defaultView.getComputedStyle?n=E.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function $(e,t,n){if(e){var a=e.getElementsByTagName(t),o=0,i=a.length;if(n)for(;o<i;o++)n(a[o],o);return a}return[]}function z(e,t,n,o,i,r,l,s){e=e||t[_];var c=E.createEvent("Event"),u=e.options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);c.initEvent(n,!0,!0),c.to=i||t,c.from=r||t,c.item=o||t,c.clone=a,c.oldIndex=l,c.newIndex=s,t.dispatchEvent(c),u[d]&&u[d].call(e,c)}function G(e,t,n,a,o,i,r,l){var s,c,u=e[_],d=u.options.onMove;return(s=E.createEvent("Event")).initEvent("move",!0,!0),s.to=t,s.from=e,s.dragged=n,s.draggedRect=a,s.related=o||t,s.relatedRect=i||t.getBoundingClientRect(),s.willInsertAfter=l,e.dispatchEvent(s),d&&(c=d.call(u,s,r)),c}function Z(e){e.draggable=!1}function Q(){N=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function te(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ne(e,t)||n++;return n}function ne(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),a=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(a)||[]).length!=t.length)}return!1}function ae(e,t){var n,a;return function(){void 0===n&&(n=arguments,a=this,k(function(){1===n.length?e.call(a,n[0]):e.apply(a,n),n=void 0},t))}}function oe(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ie(e){return O&&O.dom?O.dom(e).cloneNode(!0):S?S(e).clone(!0)[0]:e.cloneNode(!0)}function re(e){return k(e,0)}function le(e){return clearTimeout(e)}return B.prototype={constructor:B,_onTapStart:function(t){var n,a=this,o=this.el,i=this.options,l=i.preventOnFilter,s=t.type,c=t.touches&&t.touches[0],u=(c||t).target,d=t.target.shadowRoot&&t.path&&t.path[0]||u,f=i.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var a=t[n];a.checked&&j.push(a)}}(o),!e&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||i.disabled)&&!d.isContentEditable&&(u=X(u,i.draggable,o))&&r!==u){if(n=te(u,i.draggable),"function"==typeof f){if(f.call(this,t,u,this))return z(a,d,"filter",u,o,o,n),void(l&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(e){if(e=X(d,e.trim(),o))return z(a,e,"filter",u,o,o,n),!0})))return void(l&&t.preventDefault());i.handle&&!X(d,i.handle,o)||this._prepareDragStart(t,c,u,n)}},_prepareDragStart:function(n,a,l,s){var c,u=this,d=u.el,f=u.options,p=d.ownerDocument;l&&!e&&l.parentNode===d&&(v=n,o=d,t=(e=l).parentNode,i=e.nextSibling,r=l,m=f.group,g=s,this._lastX=(a||n).clientX,this._lastY=(a||n).clientY,e.style["will-change"]="all",c=function(){u._disableDelayedDrag(),e.draggable=u.nativeDraggable,J(e,f.chosenClass,!0),u._triggerDragStart(n,a),z(u,o,"choose",e,o,o,g)},f.ignore.split(",").forEach(function(t){$(e,t.trim(),Z)}),q(p,"mouseup",u._onDrop),q(p,"touchend",u._onDrop),q(p,"touchcancel",u._onDrop),q(p,"selectstart",u),f.supportPointer&&q(p,"pointercancel",u._onDrop),f.delay?(q(p,"mouseup",u._disableDelayedDrag),q(p,"touchend",u._disableDelayedDrag),q(p,"touchcancel",u._disableDelayedDrag),q(p,"mousemove",u._disableDelayedDrag),q(p,"touchmove",u._disableDelayedDrag),f.supportPointer&&q(p,"pointermove",u._disableDelayedDrag),u._dragStartTimer=k(c,f.delay)):c())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),K(e,"mouseup",this._disableDelayedDrag),K(e,"touchend",this._disableDelayedDrag),K(e,"touchcancel",this._disableDelayedDrag),K(e,"mousemove",this._disableDelayedDrag),K(e,"touchmove",this._disableDelayedDrag),K(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,n){(n=n||("touch"==t.pointerType?t:null))?(v={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(q(e,"dragend",this),q(o,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{E.selection?re(function(){E.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(o&&e){var t=this.options;J(e,t.ghostClass,!0),J(e,t.dragClass,!1),B.active=this,z(this,o,"start",e,o,o,g)}else this._nulling()},_emulateDragOver:function(){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY)return;this._lastX=b.clientX,this._lastY=b.clientY,P||V(n,"display","none");var e=E.elementFromPoint(b.clientX,b.clientY),t=e,a=L.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(b.clientX,b.clientY)),t)do{if(t[_]){for(;a--;)L[a]({clientX:b.clientX,clientY:b.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);P||V(n,"display","")}},_onTouchMove:function(e){if(v){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=i.clientX-v.clientX+o.x,l=i.clientY-v.clientY+o.y,s=e.touches?"translate3d("+r+"px,"+l+"px,0)":"translate("+r+"px,"+l+"px)";if(!B.active){if(a&&F(Y(i.clientX-this._lastX),Y(i.clientY-this._lastY))<a)return;this._dragStarted()}this._appendGhost(),D=!0,b=i,V(n,"webkitTransform",s),V(n,"mozTransform",s),V(n,"msTransform",s),V(n,"transform",s),e.preventDefault()}},_appendGhost:function(){if(!n){var t,a=e.getBoundingClientRect(),i=V(e),r=this.options;J(n=e.cloneNode(!0),r.ghostClass,!1),J(n,r.fallbackClass,!0),J(n,r.dragClass,!0),V(n,"top",a.top-T(i.marginTop,10)),V(n,"left",a.left-T(i.marginLeft,10)),V(n,"width",a.width),V(n,"height",a.height),V(n,"opacity","0.8"),V(n,"position","fixed"),V(n,"zIndex","100000"),V(n,"pointerEvents","none"),r.fallbackOnBody&&E.body.appendChild(n)||o.appendChild(n),t=n.getBoundingClientRect(),V(n,"width",2*a.width-t.width),V(n,"height",2*a.height-t.height)}},_onDragStart:function(t,n){var i=this,r=t.dataTransfer,l=i.options;i._offUpEvents(),m.checkPull(i,i,e,t)&&((a=ie(e)).draggable=!1,a.style["will-change"]="",V(a,"display","none"),J(a,i.options.chosenClass,!1),i._cloneId=re(function(){o.insertBefore(a,e),z(i,o,"clone",e)})),J(e,l.dragClass,!0),n?("touch"===n?(q(E,"touchmove",i._onTouchMove),q(E,"touchend",i._onDrop),q(E,"touchcancel",i._onDrop),l.supportPointer&&(q(E,"pointermove",i._onTouchMove),q(E,"pointerup",i._onDrop))):(q(E,"mousemove",i._onTouchMove),q(E,"mouseup",i._onDrop)),i._loopId=setInterval(i._emulateDragOver,50)):(r&&(r.effectAllowed="move",l.setData&&l.setData.call(i,r,e)),q(E,"drop",i),i._dragStartId=re(i._dragStarted))},_onDragOver:function(r){var l,s,c,g,p=this.el,v=this.options,b=v.group,y=B.active,w=m===b,C=!1,x=v.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!v.dragoverBubble&&r.stopPropagation()),!e.animated&&(D=!0,y&&!v.disabled&&(w?x||(g=!o.contains(e)):h===this||(y.lastPullMode=m.checkPull(this,y,e,r))&&b.checkPut(this,y,e,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(H(r,v,this.el),N)return;if(l=X(r.target,v.draggable,p),s=e.getBoundingClientRect(),h!==this&&(h=this,C=!0),g)return W(y,!0),t=o,void(a||i?o.insertBefore(e,a||i):x||o.appendChild(e));if(0===p.children.length||p.children[0]===n||p===r.target&&function(e,t){var n=e.lastElementChild.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}(p,r)){if(0!==p.children.length&&p.children[0]!==n&&p===r.target&&(l=p.lastElementChild),l){if(l.animated)return;c=l.getBoundingClientRect()}W(y,w),!1!==G(o,p,e,s,l,c,r)&&(e.contains(p)||(p.appendChild(e),t=p),this._animate(s,e),l&&this._animate(c,l))}else if(l&&!l.animated&&l!==e&&void 0!==l.parentNode[_]){u!==l&&(u=l,d=V(l),f=V(l.parentNode));var E=(c=l.getBoundingClientRect()).right-c.left,T=c.bottom-c.top,S=M.test(d.cssFloat+d.display)||"flex"==f.display&&0===f["flex-direction"].indexOf("row"),O=l.offsetWidth>e.offsetWidth,I=l.offsetHeight>e.offsetHeight,A=(S?(r.clientX-c.left)/E:(r.clientY-c.top)/T)>.5,P=l.nextElementSibling,Y=!1;if(S){var F=e.offsetTop,j=l.offsetTop;Y=F===j?l.previousElementSibling===e&&!O||A&&O:l.previousElementSibling===e||e.previousElementSibling===l?(r.clientY-c.top)/T>.5:j>F}else C||(Y=P!==e&&!I||A&&I);var L=G(o,p,e,s,l,c,r,Y);!1!==L&&(1!==L&&-1!==L||(Y=1===L),N=!0,k(Q,30),W(y,w),e.contains(p)||(Y&&!P?p.appendChild(e):l.parentNode.insertBefore(e,Y?P:l)),t=e.parentNode,this._animate(s,e),this._animate(c,l))}}},_animate:function(e,t){var n=this.options.animation;if(n){var a=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),V(t,"transition","none"),V(t,"transform","translate3d("+(e.left-a.left)+"px,"+(e.top-a.top)+"px,0)"),t.offsetWidth,V(t,"transition","all "+n+"ms"),V(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=k(function(){V(t,"transition",""),V(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;K(E,"touchmove",this._onTouchMove),K(E,"pointermove",this._onTouchMove),K(e,"mouseup",this._onDrop),K(e,"touchend",this._onDrop),K(e,"pointerup",this._onDrop),K(e,"touchcancel",this._onDrop),K(e,"pointercancel",this._onDrop),K(e,"selectstart",this)},_onDrop:function(r){var l=this.el,s=this.options;clearInterval(this._loopId),clearInterval(w.pid),clearTimeout(this._dragStartTimer),le(this._cloneId),le(this._dragStartId),K(E,"mouseover",this),K(E,"mousemove",this._onTouchMove),this.nativeDraggable&&(K(E,"drop",this),K(l,"dragstart",this._onDragStart)),this._offUpEvents(),r&&(D&&(r.preventDefault(),!s.dropBubble&&r.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),o!==t&&"clone"===B.active.lastPullMode||a&&a.parentNode&&a.parentNode.removeChild(a),e&&(this.nativeDraggable&&K(e,"dragend",this),Z(e),e.style["will-change"]="",J(e,this.options.ghostClass,!1),J(e,this.options.chosenClass,!1),z(this,o,"unchoose",e,t,o,g),o!==t?(p=te(e,s.draggable))>=0&&(z(null,t,"add",e,t,o,g,p),z(this,o,"remove",e,t,o,g,p),z(null,t,"sort",e,t,o,g,p),z(this,o,"sort",e,t,o,g,p)):e.nextSibling!==i&&(p=te(e,s.draggable))>=0&&(z(this,o,"update",e,t,o,g,p),z(this,o,"sort",e,t,o,g,p)),B.active&&(null!=p&&-1!==p||(p=g),z(this,o,"end",e,t,o,g,p),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=i=a=r=l=s=v=b=D=p=u=d=h=m=B.active=null,j.forEach(function(e){e.checked=!0}),j.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,o=n.length,i=this.options;a<o;a++)X(e=n[a],i.draggable,this.el)&&t.push(e.getAttribute(i.dataIdAttr)||ee(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,a){var o=n.children[a];X(o,this.options.draggable,n)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return X(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&R(n)},destroy:function(){var e=this.el;e[_]=null,K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart),K(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),L.splice(L.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},q(E,"touchmove",function(e){B.active&&e.preventDefault()}),B.utils={on:q,off:K,css:V,find:$,is:function(e,t){return!!X(e,t,e)},extend:oe,throttle:ae,closest:X,toggleClass:J,clone:ie,index:te,nextTick:re,cancelNextTick:le},B.create=function(e,t){return new B(e,t)},B.version="1.7.0",B})}]);